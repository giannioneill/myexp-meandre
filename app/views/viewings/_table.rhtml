<% unless collection.empty? %>

<table class="alt_table">
  <tr>
    <% unless contribution %><th width="400">Contribution</th><% end %>
    <th width="100">User</th>
    <th>Viewed at</th>
    <th> </th>
  </tr>
  
<% odd_row = false -%>
<% for viewing in collection %>
  <tr class="<%= (odd_row = !odd_row) ? "odd_row" : "even_row" %>">
    <% unless contribution %><td width="400"><%= contributable(viewing.contribution.contributable_id, viewing.contribution.contributable_type, true, true) %></td><% end %>
    <td width="100">
      <% if viewing.user_id %>
        <%= contributor(viewing.user_id, "User", true, 60) %>
      <% else %>
        <%=null_avatar 60 %><br/><%= "Anonymous" %>
      <% end %>
    </td>
    <td><%=datetime viewing.created_at, false %></td>
    <td class="actions">
      <%= icon "show", viewing_path(viewing.contribution, viewing), nil, nil, "View" %>
    </td>
  </tr>
<% end %>
</table>
      
<% else %>

No viewings

<% end %>